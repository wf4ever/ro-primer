<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>Wf4Ever Research Object Ontologies and Vocabularies Primer
</title>
<link href="css/owl.css" rel="stylesheet" type="text/css">
<link href="css/Primer.css" rel="stylesheet" type="text/css">
<link href="css/rec.css" rel="stylesheet" type="text/css">
<!--link href="css/extra.css" rel="stylesheet" type="text/css"-->
<script src="http://dev.w3.org/2009/dap/ReSpec.js/js/respec.js" class="remove"></script><base href="http://wf4ever.github.io/ro-primer/">
<script class="remove">

  var addExtraReferences = function() {
         for (var k in extraReferences)
             berjon.biblio[k] = extraReferences[k];
         };

 var extraReferences = {
"RO-MODEL":"Wf4Ever RO Model. URL: <a href=\"http://wf4ever.github.io/ro\">http://wf4ever.github.io/ro/</a>",
"BECHHOFER11":"Sean Bechhofer et. al.<cite>Linked Data is Not Enough for Scientists</cite>, Future Generation Computer Systems, DOI: <a href=\"http://dx.doi.org/10.1016/j.future.2011.08.004\">201110.1016/j.future.2011.08.004</a>",

"ORE":"<cite><a href=\"http://www.openarchives.org/ore/1.0/toc.html\">Open Archives Initiative Object Reuse and Exchange</a></cite>. <em>ORE Specifications and User Guides.</em> URL: <a href=\"http://www.openarchives.org/ore/1.0/toc.html\">http://www.openarchives.org/ore/1.0/toc.html</a>",

"AO":"Paolo Ciccarese. <cite><a href=\"http://code.google.com/p/annotation-ontology/\">The Annotation Ontology</a></cite> URL: <a href=\"http://code.google.com/p/annotation-ontology/\">http://code.google.com/p/annotation-ontology</a>"

         }; 

var respecConfig = {
          // specification status (e.g. WD, LCWD, NOTE, etc.). If in doubt use ED.
          specStatus:           "unofficial",
          
          // the specification's short name, as in http://www.w3.org/TR/short-name/
          shortName:            "ro-primer",
 
          // if your specification has a subtitle that goes below the main
          // formal title, define it here
          //subtitle   :  "",

 
          // if you wish the publication date to be other than today, set this
          publishDate:  "2012-04-13",
 
          // if the specification's copyright date is a range of years, specify
          // the start date here:
          copyrightStart: "2012",
 
          // if there is a previously published draft, uncomment this and set its YYYY-MM-DD date
          // and its maturity status
          //previousPublishDate:  "2012-02-02",
          //previousMaturity:  "WD",
 
          // if there a publicly available Editor's Draft, this is the link
          //edDraftURI:           "http://dvcs.w3.org/hg/prov/raw-file/default/model/prov-dm.html",
 
          // if this is a LCWD, uncomment and set the end of its review period
          // lcEnd: "2009-08-05",
 
          // if you want to have extra CSS, append them to this list
          // it is recommended that the respec.css stylesheet be kept
          extraCSS:             ["http://dev.w3.org/2009/dap/ReSpec.js/css/respec.css", "./css/extra.css"],
 
          // editors, add as many as you like
          // only "name" is required
           editors:  [
              { name: "Jun Zhao", url: "http://users.ox.ac.uk/~zool0770",
                company: "University of Oxford" }
          ],
 
          // authors, add as many as you like. 
          // This is optional, uncomment if you have authors as well as editors.
          // only "name" is required. Same format as editors.
 
          authors:  [
              { name: "Khalid Belhajjame", url: "http://semanticweb.org/wiki/Khalid_Belhajjame",
                company: "University of Manchester" },
          //    { name: "Graham Klyne",
          //      company: "University of Oxford" },
              { name: "Daniel Garijo", url: "http://www.oeg-upm.net/index.php/es/phdstudents/28-dgarijo",
                company: "UPM" },
              { name: "Oscar Corcho", url: "http://www.oeg-upm.net/index.php/es/teachers/11-ocorcho",
                company: "UPM" },
              { name: "Esteban Garc&#237;a Cuesta",
                company: "iSOCO" },
            { name: "Stian Soiland-Reyes", url: "http://soiland-reyes.com/stian/",
                company: "University of Manchester" },
          //    { name: "Raul Palma",
          //      company: "PSNC" }
         ],
          
          // name of the WG
          wg:           "Wf4Ever project",
          
          // URI of the public WG page
          wgURI:        "http://www.wf4ever-project.org/",

          // Add extraReferences to bibliography database
          preProcess: [addExtraReferences],

      };

 </script>
</head>
<body>

<section id="abstract">
<p>
This document is to provide an accessible  introduction to the Wf4Ever RO Model so that readers can understand &quot;what&quot; the RO Model provides and &quot;how&quot; the RO Ontologies and Vocabularies can be used to describe an aggregation object that represents scientific experiments in a structured format.
</p>
</section><!-- abstract -->

<section id="introduction"><h2>Introduction</h2>

<p>Research Objects are semantically rich aggregations of resources that bring together data, methods and people in scientific investigations [[BECHHOFER11]]. Their goal is to create a class of artifacts that can encapsulate digital knowledge and provide a mechanism for sharing and discovering assets of reusable research and scientific knowledge. 
</p>

<p>In the <a href="http://www.wf4ever-project.eu/">EU Wf4Ever</a> project the focus is on those Research Objets whose methods are implemented as scientific workflows. A (workflow-centric) research object (RO) is an artifact that bundles one or several workflows, the provenance of the results obtained by their enactments, other digital objects that are relevant to the experiment (papers, datasets, etc.), and annotations that semantically describe all these objects. A model that can be used to describe these workflow-centric research objects is proposed in [[RO-MODEL]]. This model is implemented as a suite of lightweight ontologies or vocabularies, building upon existing work from related communities.</p>

<p>This primer document aims at easing the adoption of the RO model by providing:</p>
<ul>
<li>An intuitive explanation of the different pieces of the RO model.
</li>
<li>Worked examples that can be followed to understand what an RO is and how its vocabularies can be used to unambiguously describe a workflow-centric RO.
</li>
</ul>

<p>The scope of this document is mainly that of developers interested in understanding how to use ontologies/vocabularies to describe research objects in order to build tool support for their management; and experimental data publishers with sufficient knowledge about Semantic Web technologies to publish details of their scientific experiments as aggregation objects and describe them in a machine-understandable, structured format, using the Resource Description Framework (RDF). In  this primer document the RDF Turtle syntax is used throughout. The normative specification of the research object ontologies and vocabularies can be found in [[RO-MODEL]].</p>

</section><!-- introduction -->

<section id="sec:overview"><h2>Overview of the RO Model</h2>

<p>This section provides an overview of the RO Model. It does not cover all the details of the model. The RO Model Specification [[RO-MODEL]] provides precise definitions to be used.</p>

<p>Generally speaking the Wf4Ever RO model can describe the following three aspects of information:</p>
<ul>
<li>Basic aggregation structure of an RO.</li>
<li>Workflow-centric Research Objects.</li>
<li>Annotations to an RO and its components.</li>
</ul>

<section id="sec:basic"><h3>Describe Basic Aggregation Structure of an RO</h3>

<p>A Research Object is simply an aggregation of resources and annotations about them. The figure below provides an overview of the Wf4Ever RO Model, which includes the following constructs:</p>
<ul>
<li><b>ResearchObject</b>, represents an aggregation of resources. It acts as an entry point to the research object.</li>
<li><b>Resource</b>, represents a resource that can be aggregated within a research object. As shown in the figure below, a Resource can be a Dataset, Paper, Software or Annotation. Typically, a ResearchObject aggregates multiple Resources.</li>
<li><b>Annotation</b>, used for describing research objects, their aggregated resources, as well as the relationship between resources. </li>
</ul>

<p><img src="diagrams/ResearchObject.png" imagetext="ResearchObject.png|border=1,width=600" width="600" style="border: 1px solid black"></p>

<p>The description of a RO, such as its structure and annotations, is provided in a manifest file. This manifest file can be aggregated as part of this RO. Examples of descring a basic RO in a manifest file can be found in Section <a href="#ex-basic">3.1</a>.</p>

</section><!-- basic -->

<section id="sec:wf"><h3>Describe Workflow Centric Research Objects</h3>

<p>A special class of research object that is the primary interest of our specification are workflow-centric research objects, which refer to research objects that aggregate workflows, or more specifically workflow templates.</p> 

<ul>
<li>A <b>workflow template</b> is a network in which the nodes are  processes and the edges represent data links that connect the output of a  given process to the input of another process, specifying that the  artifacts produced by the former are used to feed the latter.</li>
<li>A <b>process</b> is used to describe a class of actions that when enacted give rise to process runs. Processes specify the software component (e.g., web service) responsible for undertaking those actions.</li>
</ul>

<p>A workflow is often executed following a template which describes each step involved in the whole execution. Templates can be designed by scientists (users) with the purpose of being able to  execute the same workflow many times with different inputs for their  tests, as "live-tutorials" of how some data infrastructure can be more efficiently used, etc. There are two types of templates: </p>
<ul>
<li><b>Abstract workflow templates</b>, which have some of the steps of the workflow not bound to a specific tool.</li>
<li><b>Concrete workflow templates</b>, which have all the steps specified.</li>
</ul>

<p>In the RO model, we are able to describe  these templates plus their relationships with the executions by using the  <a href="http://purl.org/wf4ever/wfdesc#">wfdesc vocabulary</a>.</p>

<!--p><img src="diagrams/WorkflowTemplates.png" imagetext="WorkflowTemplates.png|border=1,width=600" width="600" style="border: 1px solid black"></p-->

<p>As well as workflow templates, workflow-centric research objects contain information about workflow runs, which are obtained by enacting workflow templates, and provenance of the results obtained from the runs. Examples of describing a workflow research object can be found in Section <a href="#ex-wf">3.2</a> and <a href="#wfdesc">3.5</a>.</p>

</section><!-- wf -->

<section id="sec:annotation"><h3>Describe Annotations to an RO and its Components</h3>

<p>In the RO model the <a href="http://code.google.com/p/annotation-ontology/wiki/v2Main">Annotation Ontology</a> is used as a generic vocabulary to allow annotations to research objects, their resources, and their relationships. Three kinds of elements are used to specify annotations:</p>

<ul>
<li><b>Annotation</b>, represents the annotation itself. </li>
<li><b>Target</b>, used to specify the resource or research object subject to annotation.</li>

<li><b>Body</b>, the body comprises a description of the target in the form of a set of RDF statements, which can be specifying the date of creation of the target, or its relationship with other resources or research objects.</li>
</ul>
<p>Annotations may be provided primarily for human consumption (e.g. a description of a hypothesis that is tested by a workflow-based experiment), or for machine consumption (e.g. a structured description of the provenance of results generated by a workflow run).  Both kinds of annotations are accommodated using Annotation Onology structures. Examples of expressing annotations to an RO and its components can be found in Section <a href="#ex-ann">3.3</a> and <a href="#prov">3.4</a>.</p>

</section><!-- annotation --></section><!-- overview --><section id="examples"><h3>Examples</h3>

<p>The Wf4Ever RO model is implemented as a suite of three ontologies, which include:</p>

<p><b>The ro ontology</b>: which provides basic structure for the description of  aggregated resources and the annotations that are made on those  resources.</p>

<p><b>The wfdesc ontology</b>: which allows describing workflows.  It is targeted at providing an abstraction that can be mapped to  different particular workflow systems.</p>

<p><b>The wfprov ontology</b>: which provides terms for describing provenance information about actual executions of workflows.</p>

<p>These ontologies were built upon existing vocabularies as much as possible, including OAI ORE (Object Exchange and Reuse) [[ORE]] and the Annotation Ontology [[AO]]. </p>

<p>The following sections show how this suite of RO ontologies can be used to describe a basic workflow-centric RO. A &quot;Hello World&quot; RO is used as the running example to demonstrate how each part of the RO model can be used to describe this RO, its components and annotations to the RO as a whole and to each of its component.</p>

<p>The following namespaces are used in the examples:<p>
<pre>
@prefix ro:     http://purl.org/wf4ever/ro#
@prefix wfdesc: http://purl.org/wf4ever/wfdesc#
@prefix wfprov: http://purl.org/wf4ever/wfprov#
@prefix dct:    http://purl.org/dc/terms/
@prefix ore:    http://www.openarchives.org/ore/
@prefix ao:     http://purl.org/ao/
@base           http://purl.org/wf4ever/ro-primer#
</pre>

<section id="ex-basic"><h3>A Basic Research Object</h3>

<p>The &quot;Hello World&quot; example RO, as shown in the following example RDF, aggregates a collection of resources, including the simple <a href="http://www.myexperiment.org/workflows/2648.html">Hello World workflow template</a>,  its intermediate and final data results resulting from the run of this workflow, as well as annotations to this RO and its components.</p>

<div id="basic-example">
<pre class="code-java">
<> a ro:ResearchObject, ore:Aggregation ;
    ore:aggregates &lt;helloworld.t2flow&gt; ;
    ore:aggregates &lt;artifact/hello&gt; ;
    ore:aggregates :ann1 ;
    dct:created "2011-12-02T15:01:10Z"^^xsd:dateTime ;
    dct:creator [ a foaf:Person; foaf:name "Stian Soiland-Reyes" ] .

&lt;helloworld.t2flow&gt;    rdf:type ro:Resource .
&lt;artifact/hello&gt;       rdf:type ro:Resource .
</pre>
</div>
</section><!-- ex-basic --><section id="ex-wf"><h3>A Basic Workflow Research Object</h3>
<p>The Wf4Ever RO model is aimed to be a workflow-centric RO model. It provides specific constructs to describe information about workflows and their runs. For example, the above example can be revised and expressed more precisely using the <a href="http://purl.org/wf4ever/wfdesc#">wfdesc vocabulary</a> and the <a href="http://purl.org/wf4ever/wfprov#">wfprov vocabulary</a>.</p>

<div id="wf-example">
<pre class="code-java">
<> a <b>ro:WorkflowResearchObject</b> ;    
    ore:aggregates &lt;helloworld.t2flow&gt; ;
    ore:aggregates &lt;artifact/hello&gt; ;
    ore:aggregates :ann1 ;
    dct:created "2011-12-02T15:01:10Z"^^xsd:dateTime ;
    dct:creator [ a foaf:Person; foaf:name "Stian Soiland-Reyes" ] .
    
&lt;helloworld.t2flow&gt;    rdf:type   <b>wfdesc:Workflow</b> .
&lt;artifact/hello&gt;       rdf:type   <b>wfprov:Artifact</b> .
</pre>
</div>

</section><!-- ex-wf --><section id="ex-ann"><h3>Provide Annotations to an RO</h3>
<p>Structured annotations can be added to research objects and their aggregated resources. The Wf4Ever RO model uses the <a href="http://code.google.com/p/annotation-ontology/wiki/v2Main">Annotation Ontology 2.0</a> to express these annotations. They are declared as separate RDF resources, which can independently be aggregated.  AO can be used to describe the link between these RDF resources (the annotation body) and the resources they annotate (annotated resource). It also provides an anchor point for describing who made the annotation and when.</p>

<p>Multiple annotation bodies (<tt>ao:body</tt>) can annotate the same resource (<tt>ao:annotatesResource</tt>), and a single annotation (<tt>ao:Annotation</tt>) can annotate multiple resources. Each annotation should have a <a href="http://purl.org/dc/terms/creator"><tt>dct:creator</tt></a> and <a href="http://purl.org/dc/terms/createdAt"><tt>dct:createdAt</tt></a> to specify who created the annotation and when. Details about how to use the Annotation Ontology can be found in the above link.</p>

<section id="ann-ro"><h4>Annotate an RO as a Whole</h4>

<p>Annotations on a research object can apply to the aggregation as a whole. This can for instance be its title, description, general classifications or relations to other research objects. For example, the following RDF shows how we can provide additional descriptions about the HelloWorld research object. We keep these annotations in a separate resource, and we also provide provenance information about these annotations.</p>

<div id="anno-ro">
<pre class="code-java">
# http://www.example.com/ro1/manifest
@prefix ro: &lt;http://purl.org/wf4ever/ro#&gt; .
@prefix ore: &lt;http://www.openarchives.org/ore/terms/&gt; .
@prefix ao: &lt;http://purl.org/ao/&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .

<>  a ro:ResearchObject, ore:Aggregation ;
    ore:aggregates      &lt;helloworld.t2flow&gt;, &lt;stiansComments.ttl&gt;, <b>:ann1</b>  ;
    ore:isDescribedBy   &lt;manifest> .
    
:ann1 a ro:Annotation, ao:GraphAnnotation ; 
      <b>ao:annotatesResource <> ; # The RO
      ao:body              &lt;stiansComments.ttl&gt; ;</b>
      dct:creator          _:stian ;
      dct:createdAt        "2011-07-14T15:02:14Z"^^xsd:dateTime .
    
&lt;helloworld.t2flow&gt;    a ro:Resource, ore:AggregatedResource .    
&lt;stiansComments.ttl&gt; a ore:AggregatedResource .
</pre>
</div>

<p>The actual annotation body is stored in a separate resource, and can be made accessible via a URL.</p>

<div id="anno-ro-2">
<pre class="code-java">
# http://www.example.com/ro1/stiansComments.ttl.
<>   dct:title "A lovely research object"@en ; 
     dct:description "An example of how I think ROs should look like"@en .
</pre>
</div>

<p>Annotations about a workflow should be kept in a separate resource. By separating these annotations in a separate resource, they can be aggregated by an RO and provenance of these annotations can also be made, like who created them when. This is an important pattern that should be followed when creating RO annotations. These annotations can also be reused as long as they are universally true outside the context that they were initially created, i.e. the annotations about a workflow remain true no matter in which RO it could be aggregated.</p>


</section><!-- ann-ro --><section id="ann-wf"><h4>Annotate a Workflow</h4>
<p>Annotations are useful for typing and describing the resources that form a research object. And these annotations to a component of an RO, for example workflow in this case, can be either globally true, i.e. remaining true independent of any specific RO, or locally true, i.e. within the context of a particular RO. Here we give two examples to show how both cases can be expressed.</p>

<div id="anno-wf-1">
<pre class="code-java">
# http://www.example.com/ro1/manifest
<> a ro:ResearchObject, ore:Aggregation ;
    ore:aggregates     &lt;helloworld.t2flow&gt;, &lt;workflowMetadata.ttl&gt;, <b>:ann2</b>  ;
    ore:isDescribedBy  &lt;manifest&gt; .
    
:ann2 a ro:Annotation, ao:GraphAnnotation ;
      <b>ao:annotatesResource  &lt;helloworld.t2flow&gt; ;
      ao:body               &lt;workflowMetadata.ttl&gt; ;</b>
      dct:creator           _:stian ;
      dct:createdAt         "2011-07-14T15:31:14Z"^^xsd:dateTime .
    
&lt;helloworld.t2flow&gt;         a ro:Resource, ore:AggregatedResource, a ro:Workflow .    
&lt;workflowMetadata.ttl&gt;    a ore:AggregatedResource .
</pre>
</div>

<p>The same as the above example, the actual annotation body is stored in a separate resource, such as http://www.example.com/ro1/workflowMetadata.ttl, and can provide the following annotations about the workflow <workflow.t2flow>.</p>

<div id="anno-wf-2">
<pre class="code-java">
###  http://www.example.com/ro1/workflowMetadata.ttl
&lt;helloworld.t2flow&gt; a wfdesc:Workflow .
                    dct:description "Workflow for sequence analysis"@en . 
#
</pre>
</div>

<p>This example will both establish that &lt;helloworld.t2flow&gt; actually is typed as a <tt>workflow</tt> (that was asserted by Stian), and give a general description about the workflow. This information could for instance come from where originally the workflow was retrieved, such as the social workflow sharing web site <a href="http://myexperiment.org">myExperiment</a>, or the workflow definition itself.</p>

<p>A second annotation gives the description of the workflow with respect to this HelloWorld research object - by annotating the workflow proxy instead of &lt;helloworld.t2flow&gt;. In OAI-ORE a <tt>Proxy</tt> allows users to make statements about an aggregated resource in the context of a particular aggegation (such as <tt>ro:ResearchObject</tt>). By adopting this construct it is possible to say, for instance, why the workflow exists within this research object - this annotation would not necessarily apply to the workflow aggregated in a different research object, although it may be retrieved anyway.</p>

<div id="anno-wf-3">
<pre class="code-java">
# http://www.example.com/ro1/manifest
# ...
<> ore:aggregates :ann3 ;
    ore:aggregates    &lt;helloworld.t2flow&gt;, &lt;whyThisWorkflow.ttl&gt;, <b>:ann3</b>  ;
    ore:isDescribedBy &lt;manifest&gt; .
    
:workflowProxy a ore:Proxy ;
            ore:proxyFor &lt;helloworld.t2flow&gt; ;
            ore:proxyIn <> .
    
:ann3 a ro:Annotation, ao:GraphAnnotation ;
      <b>ao:annotatesResource  :workflowProxy ;
      ao:body               &lt;whyThisWorkflow.ttl&gt; ;</b>
      dct:creator           _:stian ;
      dct:createdAt         "2011-07-14T16:21:14Z"^^xsd:dateTime .
#
</pre>
</div>

<div id="anno-wf-4">
<pre class="code-java">
# http://www.example.com/ro1/whyThisWorkflow.ttl
:workflowProxy dct:description "Best workflow I could find for now"@en;
# 
</pre>
</div>

<p><em>Note: It would be valid, but not required, to also include :ann3 ao:annotatesResource &lt;helloworld.t2flow&gt; in the manifest, because the annotation body here is still "somewhat about" &lt;helloworld.t2flow&gt;, even though that URI does not appear directly within the graph. </em></p>

</section><!-- ann-wf --><section id="ann-other"><h4>Annotate Other Types of Components of an RO</h4>
<p>Relationships between the resources that constitute an RO are encoded using annotations, by having an <tt>ro:Annotation</tt> with multiple <tt>ao:annotatesResource</tt> and relate them within a single annotation body. The wfprov ontology for instance will allow you to describe that a particular artifact was the output of a workflow run. It can also be used to link the output with the input of the run, although no inputs were used in the simple running example, the "Hello World" worklfow.</p>

<div id="anno-other">
<pre class="code-java">
### such as output of a workflow run
&lt;output&gt;    ore:aggregatedBy   <> .

<>  a ro:ResearchObject ;
    ore:aggregates &lt;output&gt;, &lt;run_helloworld&gt;, :ann2 .
      
:ann2    a ao:GraphAnnotation ;
         <b>ao:annotatesResource &lt;output&gt; ; ## link to a resource
         ao:annotatesResource &lt;run_helloworld&gt; ; ## with another resource</b>
         ao:body              &lt;output_annotations.ttl&gt; .
        
### annotation to an output data
### &lt;output_annotations.ttl> contains:

<b>&lt;output&gt;</b> dct:title             "Output from an example workflow"@en;
         foaf:topic            go:ProteinSequence ;
         wfprov:wasOutputFrom  <b>&lt;run_helloworld&gt;</b> .
                    
</pre>
</div>                    
</section><!-- ann-other --></section><!-- ex-ann --><section id="prov"><h3>Describe Provenance of an RO and its Components</h3>
<p>Various types of provenance information can be associated with an RO and its components, depending on the granularity we are dealing with: the provenance of the RO itself (e.g., its evolution, updates and modifications made to the main structure of the RO), the provenance of each of its components (e.g., the workflow template, papers or other sources aggregated in the RO, their evolution, etc.), or the provenance of the workflow results.</p>

<section id="prov-ro"><h4>Provenance of an RO</h4>
<p>This type of provenance can describe either simple attribution information about an RO or refer to the changes and evolution "suffered" by the RO from its creation to its current state.  Attribution metadata of the RO, such as creator, or date of release, can be captured  through annotations, as shown in Section <a href="#ex-ann">3.3</a>.</p> 

<p>During the evolution of an RO it can have several versions that refine the previous ones and may be on different states, being alive, archived, published, etc. This information about the versioning of ROs and their evolution is currently being captured in a separate <a href="http://www.wf4ever-project.org/wiki/display/docs/RO+evolution">roevo ontology</a>.</p>

</section><!-- prov-ro --><section id="prov-wf"><h4>Provenance of a Workflow</h4>
<p>Workflows are one of the most important items in an RO aggregation. As happened with ROs, workflows can evolve, be updated and reused in different ROs. In the RO model, this kind of provenance is captured by annotations, as shown in Section <a href="#ex-basic">3.1</a>. In particular, we could extend the example shown in the aforementioned section to provide additional provenance metadata about the workflow &lt;helloworld.t2flow&gt; (the new triples have been highlighted in the example):</p>

<div id="prov-wf">
<pre class="code-java">
# http://www.example.com/ro1/workflowMetadata.ttl>
&lt;helloworld.t2flow&gt; a wfdesc:Workflow ;
     dct:description "Workflow for sequence analysis"@en ;
     <b>dct:created "2011-12-02T15:01:10Z"^^xsd:dateTime ;
     dct:creator  _:stian ;
     dct:version   "2";
     dct:replaces &lt;helloworld0.1.t2flow&gt; .</b>
</pre></div>     

<p>Additional provenance-related vocabularies can also be used by users, such the <a href="http://purl.org/swan/1.2/pav/">PAV vocabulary</a>, or the ongoing standard PROV Ontology from the <a href="www.w3.org/2011/prov/">W3C Provenance Working Group</a>.</p>    

</section><!-- prov-wf --><section id="prov-output"><h4>Provenance of a Workflow Result</h4>
<p>Provenance of workflow results refer to the record of some or all the actions that occurred during a workflow execution that led to the existence of these results. The provenance can describe the inputs and intermediate results that final outputs were derived from, when the derivation started and ended, etc. This is modeled by the <a href="http://purl.org/wf4ever/wfprov#">wfprov vocabulary</a>.</p>

<p>The next example shows how an output of an experiment (&lt;output&gt;) was produced by a process run  (&lt;processrun-workflow&gt;) that used a dataset (&lt;input&gt;) as input. &lt;processrun-workflow&gt; is the only process run taking place in the workflow execution &lt;workflowrun-workflow&gt;.</p>

<div id="prov-output">
<pre class="code-java">
### annotation to an output data
### &lt;output_annotations.ttl&gt; contains:

&lt;output&gt;  rdf:type wfprov:Artifact;
             wfprov:wasOutputFrom  &lt;processrun-workflow&gt; .
             
&lt;input&gt; rdf:type wfprov:Artifact, wf4ever:Dataset.

&lt;processrun-workflow&gt;   
                rdf:type    wfprov:ProcessRun ;
                wfprov:usedInput &lt;input&gt;;
                wfprov:wasPartOfWorkflowRun &lt;workflowrun-workflow&gt; .
                
&lt;workflowrun-workflow&gt; 
                rdf:type        wfprov:WorkflowRun .
</section><!-- prov-output --></section><!-- prov --><section id="wfdesc"><h3>Workflow Description</h3>
<p>With a focus of describing workflows the Wf4Ever Workflow RO model is also able to describe workflow-specific concepts, such as workflow templates plus their relationships with the executions. This is supported by the <a href="http://purl.org/wf4ever/wfdesc#">wfdesc vocabulary</a></p>

<p>Following the example presented in the previous section, now we want to link the executed process to the correspondant step in the template (&lt;templProcess&gt;), since it may contain additional information about how to proceed in order to reproduce the results. In the next example, we highlight the triples added to make such a connection.</p>

<div id="wfdesc-1">
<pre class="code-java">
### annotation to a process that generated the output data
### contained in &lt;output_annotations.ttl&gt;:
&lt;processrun-workflow&gt;   
                rdf:type                    wfprov:ProcessRun ;
                wfprov:usedInput            &lt;input&gt;;
                wfprov:wasPartOfWorkflowRun &lt;workflowrun-workflow&gt; ;
                <b>wfprov:describedByProcess  &lt;templProcess&gt;.</b>
                
&lt;templProcess&gt; a wfdesc:Process;
                  wfdesc:hasInput &lt;i1&gt;;
                  wfdesc:hasOutput &lt;o1&gt;.
</pre>
</div>

<p>Now we also link the artifacts to their correspondant descriptions:</p>
<div id="wfdesc-2">
<pre class="code-java">                                
### annotation to an output data
### contained in &lt;output_annotations.ttl&gt;:

&lt;output&gt;  rdf:type wfprov:Artifact;
             wfprov:wasOutputFrom  &lt;processrun-workflow&gt;;
             <b>wfdesc:describedByParameter &lt;o1&gt;.</b>
             
&lt;input&gt; rdf:type wfprov:Artifact, wf4ever:Dataset;
            <b>wfdesc:describedByParameter &lt;i1&gt;.</b>
            
<b>&lt;i1&gt; a wfdesc:Parameter, wfdesc:Input;
       wdesc:hasArtifact &lt;templArtifactI&gt;.
       
&lt;o1&gt; a wfdesc:Parameter, wfdesc:Output ;
       wdesc:hasArtifact &lt;templArtifactO&gt;.
       
&lt;templArtifactI&gt; a wfdesc:Artifact.
&lt;templArtifactO&gt; a wfdesc:Artifact.</b>
</pre>


<p>The wfdesc ontology can be used to describe the template of a workflow. The example below illustrates how the "Hello World" workflow can be described.</p>

<div id="wfdesc-3">
<pre class="code-java">
&lt;helloworld.t2flow&gt; a wfdesc:WorkflowTemplate ;
  wfdesc:hasSubProcess :hello .

:hello a wfdesc:Process ;
  wfdesc:hasOutput :greeting .
</pre>
</div>
</div>
</section><!-- wfdesc--></section><!-- examples--><section id="ack"><h3>Acknowledgement</h3>
We thank all members of the <a href="http://www.wf4ever-project.org">EU Wf4Ever project</a> for their feedback throughout the development of the RO Ontology and this primer document. The EU Wf4Ever project (270129) is funded under EU FP7 Digital Libraries and Digital Preservation (ICT-2009.4.1).
</section><!--ack>
</body>
</html>
